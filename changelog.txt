===============================================================================================
NOTE TO SELF: USE THE GDOC FOR TODO LIST
===============================================================================================


To test:

v3.1.12

Removed some problematic summon modifiers that added new weapons or fundamentally changed a unit (eg giving mind blast, which made melee centric summons stand at the back and shoot all day instead of what they normally do).
Increased the cost of adding soul leech.


v3.1.11

Redid scaling so most things aren't quadratic any more, but instead use an exponential that's much more easily configured and gets less extreme.
Nerfed many offensive field wide effects.
Fixed an oversight which caused spells with "foreign" secondary effects (those where the spell's normal effect and the secondary's path preferences have no overlap) to to never generate at all, regardless of the generation setting.
Nerfed certain offensive fast casting modifiers.
Reduced the maximum allowed aoe on offensive additional effects.
Cloudification of offensive MRN effects now offers an easy MR check as well. Passing either will negate the effect.
Nerfed many "additional" buff effects. In general the MR checks are now 4 "easier" to pass (MRNH->regular, MRN->easy, etc).
Increased the default foreign secondary effect chances from 10 to 15%.
Added option that prevents army wide effects from generating.


v3.1.10

Implemented enforced standardised research level progression for most offensive and unit summoning spells.
In general, this should have resulted in:
	Evocation being about the same as it was before.
	Disabling effects being weaker than before.
	Ritual summons being less efficient than before.

Somewhat reduced the amount of mages that are summoned in battle, primarily for the more powerful mage types.

v3.1.9

Rebalanced elemental summoning, again. The major change this time is that it is no longer possible to summon two size 6 elementals in combat with one gem at level 6.
Enforced a cap on the maximum scaling rate of spells.
Previously, the fatigue of combat spells was reduced to 100x the primary path level if it exceeded that, with some not-terribly punishing compensations. The amount of punishing has been increased considerably, and any that can't be done by adjusting aoe/number of effects now affects the cast time. Rather than make spells with extremely long cast times, the generation fails instead.
Removed the "200% cast time" modifier. This would typically appear extremely frequently at lower levels and make many spells feel awful and not worth mage time to use.
Numerous lesser balance tweaks.
Significantly increased the cost of Send Horror spells which were accidentally priced absurdly cheaply.
Fixed assorted typo and description mistakes.
Added more comprehensive handling to the extra wall defenders spells and recosted them. Hopefully these are more useful at all research levels now, rather than being extremely powerful (and expensive) at very high levels and uselessly overcosted at lower levels.
Effect "declustering" (stopping the same effect generating many times at close research levels) has been relaxed if the path requirements are different.
The "improved" name prefixes now only follow spells that have the same primary paths.
Adjusted the costs of additional weapons when given to summons in certain single-battle settings, such as remote attacks (which would previously get the cost increase as if they were permanent units)
Somewhat increased the power of higher level resist spells.
Fixed cloud spell yellowtext, which previously claimed cloud durations were double what they really are.
Many unit modifications that are entirely or mostly relevant to units that are likely to end up in melee have been forbidden for units that are likely to spend a lot of time firing or otherwise far away from enemies.
Unit modifications should no longer be possible if they would affect only the melee weapons of a creature that is likely to spend most of its time firing a ranged weapon.
Aquatic units should no longer be able gain modifications that would add ranged weapons that cannot be fired underwater.
Updated to use selectspell as it always should have done, because #newspell <id> actually ignored the passed id.
Fixed some randomised globals' yellowtext numbers being incorrect (they were being incorrectly being inherited from things using the same condition/action set as a global that generated before...)
Fixed phantasmal mage weapons not generating when they were ineligible for the weapon modifier being given to the summon
Ice Imps now have Ice Maces instead of the +4 defence Ice Rods that frost fiends have, which unintentionally turned them into repel monsters
Fixed "Haunted Forest" actually applying Gift of Nature's Bounty, despite the fact that I distinctly remember going over all of the vanilla enchantment IDs to check for exactly this kind of issue multiple times
Montag weights should now be slightly more variable, with creatures to either cost extreme relative to the average being rarer than they were before.

v3.1.8

Powerful gem-costing buff spells no longer generate at lower levels. The intent of this was to allow early ways to turn gems into power for instance to deal with sacreds that troops don't work against. I didn't consider that the force multiplication effect of buffs would only get worse once used on the problematic sacreds. This means that they will now all be offensive in nature, which means that counterplay should always exist in the form of target baiting.
Slightly reduced the scaling rate of astral shield.
Fixed a few cases of placeholder descriptions being used.
Slightly reduced the scaling rate of armour destruction spells.
All spells that create sites should now explicitly say that they fail if used in a province containing 8 sites.
Reduced the scaling rate for various "trash" summons.
Some sizes of ritual summon illearths no longer say they leave after battle.

v3.1.7

SUMMONS

Human mages are no longer summoned directly with spells (or summoned in battles). Added many new spell effects which build sites allowing their recruitment for gold instead.
Added ritual and battlesummoned versions of various nonhuman mage creatures with custom sprites. (I am not an artist!)
The intent with the new summons was mostly to have a mage that is consistently quite useful, with a small chance to have more paths than the reason you would likely be summoning it.
Added storm drakes
Added storm dragons
Added ice imps
Added vine man archers
Added ether archers

OTHER

Battle spell fatigue no longer always gets rounded down to zero when below 5.
Updated detection of whether a spell is damaging or not for modifiers (thanks to Neighter for picking up on this one)
Fixed missing returning spell name
Added support for new sprites!
Added a mod banner!
The utility now generates a .zip file with all the required sprites, ready for uploading onto certain popular game hosting platforms
(Alternatively, you can make a copy of MagicGen/data/sprites, rename it simply to "MagicGen" and put it in your dom5 mods folder and not have to worry about copying sprites for each generated file)
Fixed unmodified montag units not firstshaping into their original forms
Increased default constructionfactor from 0.6 to 0.8 due to the build-a-site spells
Added ritual of rebirth
Added many kinds of phantasmal mages that cast "spells" at victims
Fixed field-wide control the dead doing damage instead of controlling
Reduced the fast casting of the elemental spirit transformations to double
Fix towards error generating nextspells involving the generator trying to make an infinitely long secondary effect chain


v3.1.6

Increased the cost of greater othernesses somewhat
Slightly increased the fatigue scaling for the etherealness buff
Fixed conservative communion spells not generating because their resulting names were too long

v3.1.5

Attempted fix for crashing when parsing unit descriptions on non-English operating systems
Updated base unit data to 5.57 (thanks Larz!)
Added a spell that makes a stealthy creature, producing assassination attempts in the province until it is patrolled out
Offensive charge body -2 research levels
Boulder Evo +2 research levels, base research 0 was not deliberate
Twist fate no longer gets cloudified, created a separate cloud version with higher requirements
Paralysis banishment is no longer fire flagged
Poison smite is no longer fire flagged
Bond of fire banish secondary effect is no longer named "ignition"
Strength scaling for smaller units now scales the same way as enlargements (thanks Mergele for pointing this one out)
Fixed command line default montag ID of 800 which would not work
Changed battlesummon casting AI progression again, in an attempt to make higher level spells be cast more frequently than lower level ones
Fixed short range and cloudified names for false fetters spells
Cauterise wounds burning now MRN
Bile breath summon modifier is now +40/80 fatigue for battle/ritual summons respectively
Summoned salamanders and black harpies reduced to 1 upkeep
Disabled travel through fluid as it seems the freshwater terrain mask doesn't work for spells for some reason
Added detection for enchantment IDs used by other mods to avoid conflicts
Added damage reversal for other sorcery paths
Many spell effects can now also show up as blood spells
Split evocations/most directly damaging/killing/charming effects in two: gemless low fatigue spells, and gem powered high effect spells
Added nether bolt spell effects
Added slaves of Belphegor as possible blood summons
Added a global that shields the caster from negative events
Added rebirth enchantment
Added fire path luck
Added fire path etherealness
Added a global that puts all battlefields under the effects of grip of winter
Added a permanent regen spell that targets commanders
Greater foulspawn can now show up in random montags
Slightly slowed the scaling rate of most battle mage summons at higher research levels
Poison cloud unit modifiers now give +20 poison resistance, as the +10 they used to give still caused them to kill themselves



v3.1.4

Fixed a bug that could cause generation to crash at any point where a valid secondary effect couldn't be found for a spell effect
Holy spells are no longer affected by global path/research level modifiers, as this could result in weirdness such as the game wiping them from your scripts every turn (thanks, but apologies to the fine people of Randomsquared for this).
Fortune telling units now correctly have fortune teller 5 (as advertised) and not 4.
Gem costing vine arrow spells are now lower path/fatigue.
Heal -2 research levels
Star fires now ignores shields (so is no longer blocked by air shield). Also explicitly stated this in yellowtext for those who may be used to vanilla
Added heal plus size/strength resisted regeneration for non-inanimate creatures.
Added a weaker fire healing spell that also sets recipients on fire
Added yellow text for the amount healed by healing spells
Added unholy power effect for fire/blood (as per DE's Skill of Heroes)
Added 20% regeneration buff spell effect
Added peasant summons
Added magma bolts
Added magma eruption
Added a massive boulder earth evocation
Added a spell that rains said massive boulders from the sky
Reduced the potency of battle summoned mages (mix of increased cost/reduced numbers)
Added a mixed fire/cold evocation spell
Added banethunder strike (banefire, but electrical)
Added a MRN unresistable poison effect (acidify blood)
Added ray visuals to instant chain lightning and overload
Added short remote dome spells
Added a death instant kill spell (but does not soul slay)
Fixed national spells not correctly being nation restricted (thanks Moggers)

v3.1.3

Fixed manifestation modified spells calling newunits not correctly referencing the new unit created
Fixed issue from refactor that would cause spells to generate with secondary effects that should not be generating with secondary effects
Hill giant battlesummon +2 research, reduced scale rate (potentially problematic size 2 swallower, especially with -size modifiers)
Fixed fires from afar yellow text (thanks Mergele)

v3.1.2

Fixed pathboost globals, previously they would only target mages that had the appropriate path already (thanks to Waylander for pointing this out)
Changed the details text for pathboost globals to correctly reflect the fact that they can only boost up to X4, not X5 as stated.
Fixed nature pathboost globals instead providing boosts in Death!
Fixed error when generating only national spells (thanks to kurtcop for reporting)
Fixed fire flies incorrectly being generated as effect 22 (which resulted in the AI refusing to cast them, amongst other weirdness)
Extensive internal refactoring, which hopefully didn't break anything

v3.1.1

Fixed an issue that would prevent the standalone executables working. It seems the standalone is more strict about circular imports than running on a local Python installation...
Extensive yellow text improvements.
100% battlefield petrification path level 7 from 5, 4 gems from 2.
Corrected yellow text of all petrifying effects to reflect the fact that they last 10x as long as I previously thought.
Somewhat slowed the scaling rate of the unconditional petrification effect.
Foul Vapors research 7 from 6.
Implemented scaling aispellmod for high number of effects single target spells to hopefully make the AI love high numbers of fire flies a bit less.
Lowered cloud aispellmod somewhat.
All magic power boosting spells (except earth power due to its reinvigoration) are now self targeted with a nextspell of the intended AoE. This means that the casting AI will not repeatedly apply them to get their buff on summoned creatures.
Gave magic power boosting spells a scaling aispellmod. Hopefully mages will feel like casting these offscript a bit.
Astral weapons can no longer have Weapons of Sharpness as a secondary effect.
Communion slave spells no longer gain additional effects.
XP gain globals now name the commander that received the effect, much like their affliction gain counterpart.
Added many negative buff secondary effects that make the spell more powerful and/or easier to cast. These spells are all not cast offscript, and all negative effects will not directly damage/kill the units involved, but instead are limited to ailments such as entanglement and slime.
Added modest site searching modifiers, that might make them X1 to cast, or X3 and cheaper, or longer range…
Fixed broken values for corpse eater commanders
Reduced costs and research increases of most summon modifiers, as they would produce things that were funny but not terribly useful.
Low level early gem spells are +1 research and path levels


v3.1.0

Fixed secondary effects not correctly applying to commanders after the previous changes to research level increments. Hopefully invisible sages will generate now.
Reduced odds of most human mage ritual summons to account for this, as with this fixed they really dominated conjuration.
Commander corpse eater increased from 2 corpses/turn to 5.
Size affecting summon modifiers now partially respect a commander's magic paths with pricing. Titan sized versions of human mages used to cost about +10 gems, they are now more expensive based on the path depth of the mage.
The extra range modifier now only applies to spells with 10+ precision.
Improved precision now only applies to spells with -5+ precision.
Wish for strength permanent bonus research level reduced from 7 to 4, gem cost reduced from 10 to 5
All plane returning permanent bonus cost reduced from 8 to 3.
Increased the damage of fire and cold projectile evocation from 9++ to 12++.
Increased the damage of fire and cold instant evocation from 6++ to 16++.
Fireball fatigue is now aoe 5, from aoe 1.
Added an analogous cold fatigue effect to cold projectile evos.
Cold evocations are no longer available to death.
Banefire projectile decay aoe increased from 1 to 5.
Many permanent effects can now be targeted at other commanders.
Added new permanent effects: blood surge, cold weapons, fateweaving, death weapons, withering weapons, fire shield, astral shield, sleep aura, reforming, protective force, awe, acid shield, slimer, banefire shield, thunder weapons, poison weapons, vine shield effect.
Enlarged creatures now gain a morale bonus, because they should feel big and unstoppable compared to their smaller cousins.
Natural protection boosting spells now also confer one kind of physical resistance. This will allow the casting AI to know roughly what to do with them, instead of refusing to cast them.
Alchemy spells now get dynamic scaling rather than always being +1 gold per extra level.
Rage weapons are no longer a valid modifier for assassination settings.
Altered summoning casting AI modifier to include the base fatigue of the effect in question.
The version of phoenix pyre that was intended to be only applied to others (was ainocast) can no longer generate a caster-only version.
Formation fighter is no longer applied to commanders.
Removed soul vortex as a buff secondary effect due to friendly fire concerns.
Remote summon yellow text will no longer state 0 per additional caster level if there is no scaling.
Added development utility - it will show scaling for most kinds of spell effects (but not those which rely on events or sites)
Battle spells from effects that did not cost a gem now get a power increase if they generate a form that costs a gem.
Added a fire spell that melts the earth and tries to trap victims in rock.
Added a MRN overloading effect that badly shocks the target and spawns chain lightning when it deals damage.
Added a 1 capped damage shock version of flying shards and fire flies.
Flying shards and fire flies no longer gain increased path level requirements.
Fixed a bug that would cause generation to lock up indefinitely.
Cloud versions of enslave and charm no longer generate as these could crash the game.
AoE1 communion master/conservative slave pair research 4 from 6.
Hopefully fixed national spells getting secondary paths that the nation doesn’t have
Numerous internal changes, many aimed at making writing data files easier.
Possible fix for reading .dm files containing accented characters on non-English operating systems.
Optimisations to spell generation, mostly around the creation of creature pools and checking of secondary effects, of which there are now a lot more. All in all, spell generation runs around 40% faster than before.
Buff spells are no longer penalised as much (increased research level) by faster casting modifiers.
All spells are no longer penalised as much for lower path modifiers.
Significantly improved armour breaking effects. The greater effect (that can destroy items) now offers a MR check, but comes at much lower levels and does not require gems.
Blood reinvigoration now always generates in some form.
Sabbaths are now much more likely to generate.
Thunderclap is now better (less fatigue, lower path requirement, lower research requirement)
Instant rain of stones/hailstones now create a large number of inaccurate effects instead of having area effect. This means that shields now work and they are indeed more likely to hit the head.
Added banefire cloud.
Added rain of banefire.
Added a big lightning spell that has high inaccuracy like the rain of X spells.
Added Underworld Geyser.
Pillar of Fire, Thunder Strike, Poison Burst, and Astral Geyser no longer scale the AoE of their secondary effect. Instead, they lose accuracy, produce more primary effects and start costing gems.
Added many new variations for cloud visual effects.
Reduced the AI scores for battlesummons.
Increased the effectiveness of most incapacitating/ailment/debuff effects at higher research levels, where they would tend to come with prohibitive path and gem requirements. Lower levels are more or less unchanged.
Slight internal refactoring.
Summons with extra auras that can harm allies are no longer cast offscript.
Transformation globals can no longer affect undead or inanimate commanders.
Disabled horror seed effects due to the serious bug that could cause battle reports and replays to not be available to players. If/when this is fixed these can be returned.
Fix for new dragons getting the wrong breath when altered by an effect that gave them additional weapons.
Increased the power of nearly all combat spell secondary effects.
Encase in ice no longer generates in cloud form
Corpse eater now scales in magnitude based on the size of the chassis
Fixed error when trying to visit advanced options page 0
Secondary effects that reduce fatigue cost (for instance, summons becoming smaller) can no longer remove a spell’s gem cost. They will however increase the AoE/number of effects of the spell proportionally.


v3.0.0

ADDITIONS

Added water and nature dragon summons, much like the fire dragon from the goat events.
Added madmen as a summon creature, generating with a fist attack in addition to their cod. They are still really really bad, however. These madmen do not come with insanity, as they are possible transformation candidates!
Added a little jolt that gives the victim 10AN charged body.
Added a MRN death spell that does 999 life draining and soul slays.
Added many new summon creature modifications that involve gaining new weapons.
Added a new fire spell which tries to add barkskin to enemies, amongst other effects.
Added new spells which permanently ruin your caster in exchange for immense power in battles.
Added new human mages to the summoning pool to fill in the gaps left by the ones that exist (azure initiate, pyromancer etc) in vanilla.
Added a horror seed ritual.
Added a lesser paralyze effect.
Added astral weapons as a possible (but difficult to cast) spell effect.
Added a spell that tries to turn your victims into undead.
Added a spell that creates a blink enemy cloud around the caster.
Added a spell that allows a caster to cast high level spells (that they don't have the research levels for) offscript.
Added a spell that heals undead.
Added a spell that causes stunning tremors beneath enemies.
Added a spell that sprays bright colours.
Added a possible death banishment that instead tries to take control of the undead rather than doing damage.
Added Astral Torrent, an Astral evocation spell that requires high paths but with limited range and no resistances allowed, much like Drain Life in vanilla.
Added an easy to resist charm effect.
Added an easy to resist (and shorter range) enslave effect.
Added control the dead.
Added a spell that temporarily gives you extra wall defenders.
Added range increasing spells like the vanilla blood effect.
Added magic site support for spells, including the UI ID detection capabilities.
Added a spell that can make an adventure site in a capital.
Added spells that make healing sites.
Added a spell that lets fire magic detonate something's soul.
Added a spell that is like frozen heart but poisons the victim instead.
Added a nature soul slay lookalike that carts its victims off to the special reincarnation province.
Added a spell that creates an xp site in a capital.
Added new H3 summons to astral, death, and nature.
Added a battlefield wide spell that makes everyone berserk.
Added a slow casting spell that recovers some fatigue without using a gem.
Added many new non-summon secondary effects to go with the reworked secondary effect system.
Added a salt damage spell.
Added a chance to make remote assassinations use manifestation's effect and have a chance to turn back on the caster. In exchange these spells are a bit cheaper to cast.
Added spectral mages as summons, as they somehow escaped the initial summon pass.
Added a summon modifier that makes enemies killed reanimate into a random magic creature appropriate to their paths.
Added summon modifiers that cause commanders to come with retinues.
Added summon modifiers that cause commanders to summon a random creature every round.


CHANGES

Changed the way that unit pools were weighted. Previously, they would favour things based on their cost per unit, now things closer to the mean cost per unit in the entire pool are the most common, with units getting rarer as you move towards either extreme. In practice, this means that having one cheap unit (like a wolf or phantasmal beast) in your unit pool no longer produces pools with very high odds for the cheap unit(s).
Noted that overcharged damage is capped damage.
Prevented very large AoE damaging spells at low research getting excessively strong secondary effects (for instance, earthquake + decay at research 5). My previous fix didn't correctly prevent all of these cases for damaging spells.
Size 6 elemental combat summons are now somewhat more common.
Most freespawning globals can no longer produce immobile units.
The code that scales back battlesummons to avoid them costing exorbitant amounts of gems now understands that a spell with 199 fatigue will cost only 1 gem and not two, thus allowing a X1 mage to cast it.
Astral smite will no longer have blink as a secondary effect.
Generated .dm files now list the number of generic spells of each path. This is simply so I can try to make the number of spells more equal between paths.
Paralyze spells now list the amount of paralyze damage done in yellow text.
Summoning spell AI priority is now a function of path levels and research levels, and is no longer left to how the game's algorithm (erroneously) calculated this before.
Reduced the odds of the AI casting fire flies and flying shards.
Fixed astral shield generating battlefield wide at both research 8 and 9.
Storm will now always generate for the sake of storm power.
Added yellow text for Tartarian Gate (20% are commanders, 50% are feebleminded).
Opened up mistform to fire.
Opened up cloud trapeze to fire and water.
Mind burn effects will now occasionally generate with fire and water path requirements.
Innate casters are no longer able to get fast casting modifiers.
In battle horror seed's dummy spell can no longer get the raise-on-kill modifier.
Updated the listed thawing rate for Numbness effects because apparently the manual has been lying to everyone all this time.
Living mercuries in unit pools now also denote their size, like elementals did.
The casting AI now gives clouds the respect they were due.
Reduced the appearance rate of many mundane nature animal summons as they tended to dominate low level conjuration.
Research levels for national spells are now somewhat weighted towards the middle of the research range.
Because it turns out that the casting AI doesn't respect spells with very high AoE very well, added an automatic aispellmod to larger AoE spells.
The vast majority of spell effects now get their names changed when converted to cloud or touch range versions.
Slightly evened out the types of touch range spell types to make it less dominated by damaging spell effects (increased the share of incapacitating spell effects)
Massively reworked the spell secondary effect system, with the aim of making in battle spells feel a bit more procedural without overdoing the secondary effects. I'd consider "overdoing it" to be when the secondary effects overshadow the original spells.
Secondary effects are now reflected in spell names, much like how summons were previously.
Phoenix pyre that is not self-cast is no longer cast offscript, in an attempt to prevent explosive problems.
Roughly doubled the chance to not have repeated spell effects showing up at different levels.
Greatly reduced the chance of getting base low level effects at higher research levels. Summoning hundreds of goats at once is nice, but feels a bit lacking at conjuration 8-9.
Summoned mages no are no longer forced up into high research by effects as if they were frontline fighters. Potentially thuggable chassis however are.
Changed how secondary path levels are calculated. Before it would be randomly split so that primary + secondary paths = original path level, this was changed to a point system with higher paths being valued more highly. This is because requirements such as x9 was much more difficult to cast than their splits such as x5y4 due to being able to use two paths' boosters together.
All montag dummies now have 1 hp and secondshape into their intended form, in case they somehow end up in battle before firstshape kicks in.
Introduced logic to try to balance the number of spells per path slightly.
Research and school levels now generate in a random order. This is so the path balancing logic doesn't always skip over the same spell effects.
Sleeper commander ritual spells now always generate for the sake of magic leadership.

BALANCE

Battlesummon shura path requirement increased from 2 to 3, fatigue cost from 60 to 90, research level from 3 to 5.
Transformation global base chance increased from 5% per candle to 7%. Slightly increased creature power (by 1 research level).
Commander summoning global creature power increased by 2 research levels, spawn chance reduced from 4% per candle to 2%.
Combat summon soulless base number of effects increased from 1 to 3, base research 0 from 1
Ritual summon soulless gem cost 3 from 2, reduced cost per additional effect, doubled scale rate
Remote summon soulless scale rate doubled, reduced cost per additional effect
Frozen heart research 6 from 5, path level 2 from 1 to match vanilla frozen heart, corrected visual effect (blue from red)
Incinerate research 6 from 5, path level from 2 to 1 to match frozen heart
Battlefield mind burn/paralysis/soul slay now hit friendlies as well
Reduced astral "diversity" summons (mages of other paths) frequency by 75%, now up to 95% total frequency reduction compared to the mages' primary paths
Blood acashic knowledge slave cost 30 from 25, research level 7 from 6
Air elemental size 6 ritual number of effects 2 from 5, gem cost 9 from 11, cost per additional increased from 1.5 to 2.5
Air elemental size 5 ritual number of effects now nonscaling 3, gem cost 9 from 6, cost per additional increased from 1.3 to 2, path requirement increased from 2 to 3
Air elemental size 4 ritual number of effects now nonscaling 4, gem cost 9 from 6, cost per additional increased from 1 to 1.5
Air elemental size 3 ritual number of effects now nonscaling 5, gem cost 10 from 7, cost per additional increased from 0.8 to 1
Air elemental size 2 ritual number of effects now 6+, gem cost 7 from 8, cost per additional increased from 0.5 to 0.75
Earth elemental size 6 ritual number of effects 2 from 5, gem cost 9 from 11, cost per additional increased from 1.5 to 2.5
Earth elemental size 5 ritual number of effects 3 from 1+, gem cost 9 from 8, cost per additional increased from 1.3 to 2, path requirement increased from 2 to 3
Earth elemental size 4 ritual number of effects 4 from 1++, cost per additional increased from 1 to 1.5
Earth elemental size 3 ritual number of effects 5 from 1++, gem cost 9 from 7, cost per additional increased from 0.7 to 1
Earth elemental size 2 ritual number of effects 6+ from 1+++, gem cost 10 from 8, cost per additional increased from 0.5 to 0.75
Fire elemental size 6 ritual number of effects 2 from 5, gem cost 9 from 11, cost per additional increased from 1.5 to 2.5
Fire elemental size 5 ritual number of effects 3 from 1+, gem cost 9 from 6, cost per additional increased from 1.3 to 2, path requirement increased from 2 to 3
Fire elemental size 4 ritual number of effects 4 from 1++, gem cost 9 from 8, cost per additional increased from 1 to 1.5
Fire elemental size 3 ritual number of effects 5 from 2+, gem cost 9 from 7, cost per additional increaed from 0.7 to 1
Fire elemental size 2 ritual number of effects 6+ from 1++, gem cost 10 from 7, cost per additional increaed from 0.5 to 0.75
Illearth size 6 ritual number of effects 2 from 5, slave cost 21 from 22, cost per additioanl increased from 3 to 5
Illearth size 5 ritual number of effects 3 from 1+, slave cost 21 from 12, cost per additioanl increased from 1.3 to 4, path requirement increased from 2 to 3
Illearth size 4 ritual number of effects 4 from 1++, slave cost 21 from 16, cost per additional increased from 1 to 3
Illearth size 3 ritual number of effects 5 from 1++, slave cost 21 from 11, cost per additional increased from 0.7 to 2
Illearth size 2 ritual number of effects 6+ from 1+++, slave cost 24 from 16, cost per additional increased from 0.5 to 1.25
Water elemental size 6 ritual number of effects 2 from 5, gem cost 9 from 11, cost per additional increased from 1.5 to 2.5
Water elemental size 5 ritual number of effects 3 from 1+, gem cost 9 from 6, cost per additional increased from 1.3 to 2, path requirement increased from 2 to 3
Water elemental size 4 ritual number of effects 4 from 1++, gem cost 9 from 8, cost per additional increased from 1 to 1.5
Water elemental size 3 ritual number of effects 5 from 4+, gem cost 9 from 11, cost per additional increaed from 0.6 to 1
Water elemental size 2 ritual number of effects 6+ from 1++, gem cost 10 from 8, cost per additional increaed from 0.5 to 0.75
Living mercury size 5 ritual gem cost 5 from 4
Living mercury size 4 ritual gem cost 4 from 3
Most elemental remote assassination costs increased.
Increased lumber construct remote assassination from 3 gems to 7.

v2.1.7

Fixed ritual spells not costing gems when they really should.
Fixed seeking arrow yellow text to correctly display the damage (and not the number of effects).
Fixed a bug in dynamic scaling that would cause certain spells (most notably vine arrows) to generate with far more scaling damage or AoE than expected.
Reduced scaling rates for horror marks slightly.
Reduced scaling rate for numbness slightly.
Reduced the number of offensive globals that generate.
Split antimagic effects into two, one for elements and another for sorcery. This should make it more widely available.
Secondary effects now respect most targeting parameters on the parent spell, for instance a wither bones effect with a secondary of petrification will now only petrify undead creatures, not everyone caught in the area of effect.
Range 3 spells are now considerably weaker, but will no longer affect friendlies.
Holy word now gets secondary effects based on pretender paths, and has AoE.
Smite demon now gains secondary effects based on god paths in much the same way as smite.
Unit freespawning globals (not commanders) now only create units in labs, and their spawn rates have been doubled to compensate for this. This is an attempt to make them more attractive by removing the need to run around with appropriate leadership and gather them all up.
Added a global that spawns passive reanimators that convert corpses to soulless in friendly dominion.
Added a global that spawns random animals all over friendly dominion.
Added angels, kenzoku, and void critters to the astral summoning pool as it was rather lacking. All of these are no longer sacred when summoned through randomly generated spells (the vanilla means of obtaining them will still produce sacred versions).
Fixed marble lion commanders having full slots, they now have 2 misc like other non-pretender lions of their size.
Gateway now correctly generates in thaumaturgy rather than competing heavily for space in conjuration.

v2.1.6:

ADDITIONS:

In battle commander summons and reinvigoration spells will always cost gems, regardless of the global fatigue settings. These spells get improved casting time and numbers of effects to compensate where this would affect them.
Added many upgraded versions of summon modifiers.
Added instant transformation spells that transform you into one of a random pool of creatures.
Added an insect cloud effect that disrupts spellcasting.
Added a temporary morale increasing spell.
Added new effects for offensive globals, that force the victim into an assassination setting against a dummy caster that casts some vanilla spell on the victim and then immediately dies.
Added rituals that temporarily manipulate the scout reports of the targeted province.
Added a wind blowing air evocation that makes people cold.
Added a water evocation that tries to freeze people solid.
Added elfshot style bladewind to nature evocations.
Added an instant poison burst effect akin to thunder strike.
Added a self-buff that enlarges the caster and grants them trample.
Added a projectile spell that produces a damaging dust cloud.
Added an evocation that cracks open the earth and produces a long-lasting dust cloud.
Added a remote raise soulless spell.


CHANGES:

Increased the maximum research level of many spell effects to 14. This has no effect unless the research level modification option is used: it allows them to generate at higher effective research than 9.
Rounding for noninteger scaling is now half-to-even instead of always rounding up. This primarily impacts lower level spells, for instance research 3 stoneskin would attempt to generate with AoE 1.2. Before this change it would be rounded up to 2, now it would be rounded down to 1 instead.
Split ironskin into a self cast version at research 3 and aoe1 at research 5. The AoE version starts at e2.

v2.1.5:

ADDITIONS:

Added a spell that permanently gives the caster extra arms
Added falling cleansing water banishment
Added an intentional reinvigoration cloud (as well as preventing normal reinvigoration from generating cloud spells).
Added dynamic path scaling to spells, so that high level mages get more stuff!

DETAILS:

Yellow text improvements to solar brilliance (the damage portion affects demons too)
Added yellow text to blood vortex

OTHER CHANGES:

Default setting for construction spell multiplier up to 0.6 from 0.33. This means that with the default 14 spells per level, 8 will generate per level instead of 4. While there aren't that many effects currently, this should be much more likely to give access to various fort construction spells.
Offensive modular globals can now generate at research 4.
AoE communion master will only come at aoe 1 (research 6).
Research 6 communion slave now imparts the chorus effect of backing out of communions when unconscious.
Removed freespawn and transformation globals that only function underwater. These seem useless most if not all of the time for their cost.
Gem generation globals are half as common.
Growing Fury is no longer cast by offscript AI.

BALANCE:

AP blade wind +1 research, number of projectiles reduced from 10++++ to 1++ (to iron darts level)
Temper Armour base path reduced from 2 to 1
Cloudified buffs -2 research to -1 research, slightly less common
Reduced scaling costs for many remote attack spells that became prohibitively expensive in high level versions
Slightly reduced scaling costs for many in-battle mage summons that got really expensive in high level veersions
Increased cost of stalker assassination from 3 to 6 gems, it got missed when I did all the others
Unearth dungeon and call animals are now considerably easier to cast but produce less creatures.
Dispel cost reduced from 30 to 22, can no longer be pushed up research levels by lowered path modifiers
Dramatically reduced the effectiveness of positive scale increasing globals (40% per candle to 10% per candle) and made them more likely to show up.
Slightly reduced effectiveness of modular globals targeting patrollers and blood hunters (-1 power level).
Plague weapons is no longer a valid modifier for global enchantment assassins.

FIXES:

Removed all instance of lingering battlefield edge summons as they would propagate down communions (thanks Red Rob for telling me about this).
Fixed a bug that would cause the UI's nation selection feature to not work.
Fixed more causes of in-battle spells costing too many gems (those with gem costs dramatically exceeding their path requirement)
Fixed in battle horror seeds being ignored by the AI by adding a 1 AN mind burn as an extra effect. In real terms this should be pretty meaningless.
Fixed poison cloud spells generating from instantaneous poison spells.
Fixed blood feast having an utterly unnecessary number of effects that would be virtually guaranteed to give a caster cravings for meat.

v2.1.4:

ADDITIONS:

Added an option to scale the cost of blood rituals
Added options to allow not clearing vanilla generic and/or national spells (thanks Megu for providing the national spell list here!)
Telestic animate summons (both ritual and in battle) have made a return - somehow these escaped the initial summon pass
Added a modular global effect that spawns bad events in the affected provinces
Added a ranged swallowing spell for nature
Added a global that transforms sitesearching friendly commanders inside dominion
A spell that permanently shrinks targets
Added various variations on farstrike that go with other paths
Added various (but uncommon) effects that permanently add some kind of ability to the caster
Added a soulless-raising ritual

NEW SUMMON MODIFICATIONS:

Power of the turning year
Invisibility
Formation Fighter
Unsurroundable
Enlargement and shrinkage
Teleportation
False army
Far caster
Inspiring researcher
Fortune Teller
Fixed forge bonus (1 only)
Temp gems for appropriate paths
Pearl cultivator
Carcass collector
Fast casting
Corpse eater


CHANGES:

The recuperation and glamour summon modifiers now have name prefixes (thanks Arcvasti)
Fire ants, firebirds, killer mantis, and salamanders no longer make the howl noise when summoned in battle
Heat aura is no longer cast off script to eliminate the risk of unfortunate and unexpected burning
Most mages are now given some value of #indepspells, which lets them use spells up to the listed research level. By default, most chassis' spell lists are hardcoded and perhaps upsurprisingly removing generic spells caused them to have nothing to cast. The values given are an attempt to keep to vanilla power. This will increase generation time considerably if BaseU.csv is changed.
Increased the default montag size multiplier to 2.0. This means that summoning globals spawn a wider variety of units.
Increased the chassis value of most summoned mages. This should have little to no effect visible effect on generation, but was necessary for the enlargement modifiers
Unit descriptions are now cached in memory. This decreases generation time somewhat
Modular globals should now be split more evenly across research schools rather than being disproportionately skewed towards alteration, and to a lesser extent enchantment
Added an explicit battlefield wide version of most buffs. This is to make full battlefield buffs be generated more frequently again. This also meant I could reserve certain sound effects for field wide versions (such as Luck)
Changed national spell generation logic to better fit national mages (thanks to the person who submitted nearly all the code for this who I believe still wants to remain anonymous)
Opened up many modular global effects to other paths. This is for the sake of variety!
National mages for vanilla nation now includes specific terrain and cap only recruits

DETAILS (yellow text) IMPROVEMENTS:

Burden of time now lists the chance to age units - it is (41 + 4*death scale)%
Added for bonds of fire (morale + DRN > 21 to escape, 3 AN fire damage when this happens)
Added for false fetters (MR + DRN > 20 to escape)
Added for slime (MR + DRN > 21 to end)
Added details of marking and attacks for Dome of Corruption
Added for Astral Corruption
Added for growing fury
Added for bleeding
Improved Looming Hell (there is actually a hidden chance that means it can attempt more than 5 units per turn)
Improved for Fata Morgana (50% chance to hide all units, otherwise multiply the number by 0-5)
Corrected greater horror seed base penetration (actually 15, text said 16)

FIXES:

The weapon modifiers bestowing multiplicative damage, partial life drain, granting the AP modifier, or reanimating as soulless no longer apply to weapons which did not do standard damage to begin with. These effects would otherwise cause these weapons to inflict the altered damage type instead of their original function.
Transformation global enchantments can no longer affect immobile commanders
Summon modifiers with conditions now check against all of the unit's alternate forms as well
Fixed the typo that made 100% of battlefield lightning bolt generate at any research level instead of 13 only
Consistently prevented blood spells that do not cost slaves talking about blood sacrifice
Corrected some rounding issues in montag weight calculations, which would result in the total weight displayed being inaccurate and the percentages for each unit not summing to 100%
Fixed monster boar spells retaining their national ties
Fixed a bug that caused the prefix applying code to not apply to spells that share names with vanilla spells
Fixed a bug that caused generation to enter an infinite loop
Fixed shatter working on non-inanimates as well
Fixed blood fecundity applying dome of corruption instead
Fixed in battle corpse construct summons generating without a path that provides undead leadership
Fixed glamoured unit modifier's research penalty being +1 research (allowing more powerful creatures) instead of -1 (weaker)

v2.1.3:

Switched to building executables with cx_Freeze rather than PyInstaller - this means the output gets a few additional bits and pieces but otherwise should be functionally identical
Added nations.csv to the distribution - I don't quite know how I managed to miss this, but it would likely cause issues somewhere


v2.1.2: Fix for astral harpoon effect ending up in construction


NEW IN v2.1.1: Remote summoning nerfs

This mostly concerns balance for remote assassinations and attacks. Pricing things by eye was always going to be a mess, and sure enough it absolutely was one. Before this things had only been changed following game usage: the stuff here is a result of not terribly comprehensive testing, aimed at making the effect/cost ratio a lot more consistent. At the very least, these spells are much more likely to now be bad rather than absurdly overpowered.

The idea here is that ~8 gem remote attacks should be able to take 6pd somewhat reliably. Due to scaling, high pathed casters can probably achieve more, but getting high path casters is not something that is necessarily easy.

Additions:

Astral Harpoon's effect (complate with descriptive yellow text!), for 5 gems.

Text improvements:

Noted the actual chance for lab explosion on dome of flaming death (10% plus/minus one per misfortune/luck scale in the province where the dome is)
Made lure of the deep's yellow text clearer.
Added the 10% curse chances to horror seed's yellow text
Added details (yellow text) to plague and soul vortex that explain exactly what they do
Added the actual gold created by Celestial Rainbow (it's 300 + 4d100+)
Added the actual number of wolves summoned by howl
Added the interaction between snowstorms and grip of winter
Added the percent of the battlefield hit by relief

Balance:

Changes to very nearly every remote attack and assassination

NEW IN v2.1.0: Revisiting Evocation and Nasty Globals

Having seen even low level evos delete entire squares of fully armoured stuff, it seems a few things need to be turned down some. Test games seem to be showing that it's currently best to pretend buffs no longer exist, so it seemed something needed to be done about that.
When buffing them this was always going to be a possible issue, but based on test games it seems that might have been somewhat excessive...
These numbers still result in evocation generations with power somewhat over vanilla, but not what they used to be.


Additions:
	Added various offensive global enchantment effects. The system that makes these is modular and generally applies a chance to do bad things to all provinces across the world, including the caster's.
	The conditions and effects are matched at random to create a spell of appropriate strength.
	Possible conditions:
		Flat chance per province, always checked (affects commanders at random)
		Prevented by any mage of the same path as the spell (affects commanders at random)
		Any commander is patrolling
		Any commander is researching
		Any commander is preaching
		Any commander is site searching
		Any commander is blood hunting
		Any commander is calling god
		Any commander is constructing a fort
	Possible effects (note that gods are not valid targets for any effect that affects a commander):
		Scale alterations
		Add unrest
		The commander is the victim of an assassination attempt
		The commander becomes diseased
		The commander becomes cursed
		The commander becomes blinded
		The commander gains a limp
		The commander loses an eye
		The commander suffers permanent weakness
		The commander gains battle fright
		The commander gains a chest wound
		The commander becomes crippled
		The commander gains a never healing wound
		The commander becomes mute
		The commander becomes shrunken
		The commander gains a horror mark
		The commander loses an arm
		The commander becomes banished to another plane
		The commander becomes transformed into a bad physical shape
		The commander suffers some amount of AN poison damage


Balance:
	Mass plague research level increased from 9 to 11. I have not seen this in use but testing shows it would murder everything...
	Scaling direct casted plague max research level increased accordingly from 8 to 10.
	Plague summon modifier research level penalty increased from -3 to -6. I didn't realise this effect didn't come with a MR check(!)
	Fireball damage reduced from 18/2+ to 9/2+, base research increased from 1 to 2
	Cold projectile damage reduced from 21/3+ to 9/2+, is now AP
	Acid projectile damage reduced from 14/2+ to 9/2+
	Falling frost AoE reduced from 3/1+ to 0/1+, base research reduced from 4 to 2, scale rate reduced from 8 (!) to 1, damage reduced from 18/2+ to 6/2+, is now AP
	Falling fires AoE reduced from 3/1+ to 0/1+, base research reduced from 4 to 2, scale rate reduced from 8 (!) to 1, damage reduced from 10/2+ to 6/2+
	Acid Rain AoE reduced from 3/1+ to 0/1+, base research reduced from 4 to 2, scale rate reduced from 8 to 1, damage reduced from 10/2+ to 6/2+.
	Banefire fatigue cost per additional AoE increased.
	Vine arrow research level reduced from 2 to 1.
	Damage done by instant rain of stones spells reduced by 2.
	Added some x% of battlefield evocations, weakened from their normal damage as follows:
		Falling fires (2/1+ AP): 25% at research 7, 50% at 8, 100% at 10
		Falling frost (2/1+ AP): 25% at research 7, 50% at 8, 100% at 10
		Acid rain (2/1+ AP): 25% at research 7, 50% at 8, 100% at 10
		Lightning bolt (2/1+ AN): 5% at research 7, 10% at 8, 25% at 9, 50% at 10, 100% at 13
	Halved the spawn chance of research 6+ freespawn globals.

Changes:
	Generated mods now have a description indicating what version of MagicGen they were made with.
	Combat spells of other paths are 50% less likely to appear in blood.
	Montags with duplicate creatures now no longer list the same creature twice
	Creatures put into montags without modification now instantly transform into their original forms rather than remaining the special, newly modded version
	Added rather heavily detailed (but still incomplete) yellow details text for horror seed
	Added the chance of ending up in the void from returning effects (7%)

Fixes:
	Mineral Transmuation no longer generates with astral or blood as a secondary path
	Fixed the logic that sometimes caused overpowered modifiers to be assigned to low level globals
	Fixed the logic that was causing single path globals to get secondary effects of a myriad of random paths
	Globals now no longer try to assign modifiers to montags, causing mother ghuls to appear.
	Corrected Twiceborn #damage value, previously it applied twist fate


NEW IN v2.0.3

Additions:

Changes:
	Added yellow text to spells that summon exploding units to list the area of effect outside of the inspector.
	Units with disease explosion now gain 100% disease resistance.
	Poison projectile evos now scale AoE like other evocations (rather than number of projectiles).
	Summons (or other spells with high number of effects) that would have obnoxiously high gem costs now proportionally reduce the number of effects along with the gem costs.

Balance:
	Slightly increased cost of ritual summoned bane, bane lord and shura commanders.
	Increased fatigue cost of the explode-on-death summon modifier by ~50%

NEW IN v2.0.2

Balance:
	Offensive secondary effects can no longer apply to low level large AoE nondamaging spells. This means that things like mass rust can no longer come with secondary burning or decay at research levels as low as 3!
	Specifically, the maximum base AoE allowed is 3*((L(L+1))/2) where L is the research level of the spell.

	Longdead horseman remote attack reduced by 3 flat units and 1 per caster level

NEW IN v2.0.1

Changes:
	All remote summons are now a LOT rarer. This means your conjuration trees should get filled up with things other than tons and tons of remote anonymous summons. National spells are still fair game for these, however.
	Fixed the autodetect IDs button (the addition of event codes and montags broke this)
	More robust mod file parsing that should hopefully crash less!
	GUI crashes now try to write a error text file which might be helpful when mod parsing goes bad again

Unintentional behaviour fixes:
	All sea dog rituals can now be cast on land. Previously, only the battle summon could be
	Poison barbs summon modifier now correctly applies poison barbs and not poison skin

Balance:
	Khalkhotauros remote attack research level up to 7, no longer spawns extra per caster level
	Spring hawk remote attack spawns -2 hawks per cast


NEW IN v2.0.0

Internally there is now support for event based spells. This means there are now some new additions, as well as groundwork for more...

Added global enchantment effects:
	Scaling gem generators (except for blood)
	A free patroller in every owned province in friendly dominion
	Drown the world in hungry animals that eat lots of supplies
	Generates good events based on dominion strength
	Various levels of finding extra magic items
	Various variations of random pathboost on mages/commanders/researchers
	Finds and generates mines and mineral deposits
	Scale modifying effects
	Global that grants XP to commanders
	Freespawn random summonable units (including the modifiers magicgen normally puts on things)
	Freespawn random summonable commanders

Lesser changes and fixes:
	Bowl of Blood now searches blood (it was nature, thanks r2 for this)
	Corrected the numbers in the UI description for the research modifier advanced option
	Spring immortality summon modifier now works
	Looming hell now applies the correct global effect, previously it was ghost ship armada
	Switched around vanilla gem generator globals' stats to fit in with the new scaling ones:
		Stellar focus research level reduced from 7 to 5.
		Mother oak research level increased from 5 to 6
		Eternal pyre research level increased from 6 to 7
		Gale gate research level increased from 6 to 7, gem cost increased from 75A to 80A
		Maelstrom research level decreased from 8 to 7
		Well of misery research level decreased from 8 to 7
		(Earth blood deep well and blood vortex are unchanged)
	Fixed a naming bug that caused creation to fail if messing with the research level adjuster.
	Added error checks triggered if generated unit/weapon IDs go beyond the limits that the game will accept
	Lowered path modifiers no longer apply to global enchantments
	Summon modifiers that make weapons magical can now be applied to weapons that are already magical
	Many minor spell name and description grammar fixes
	Rebalanced skipchances for most summons to make the new conjuration globals appear at a reasonable frequency
	Spells that tried to generate with a path level of over 9 now are set to 9, rather than the game being left to interpret their path level as 1 instead
	Units with secondshapes can no longer get the immortality summon modifier, as this would cause them to always return in their weakest shape regardless of what they died as (this primarily affects size 2+ elementals)
	Fixed error when specifically trying to generate mages for a nation that doesn't have any nationals
	Added yellow details text to murdering winter
	Added aim/wind guide precision spells because they somehow didn't make it in the first pass
	Added ranged modifier for non-commander summoning spells
	Added battlefield edge summoning spells
	Added cloud extension modifier for cloud spells

Balance:
	Cave drake remote attack creature count increased by 2 from 1/+1 to 3/+1
	Reduced the path level scaling rates for the following effects:
		Haste: -50%
		Rust: -50%
	Chain lightning fatigue cost 30 from 20, path level 3 from 2, research level 4 from 3 (thanks to the relevent testers for showing me why this was OTT)
	Fear range reduced from 50 to 25 + 5/level
	Crusher remote attack number of units increased from 1 to 3, cost per additional unit lowered from 250 to 100 fatigue
	Clayman remote attack cost per additional unit lowered from 50 to 20 fatigue
	Living statue remote attack spawns 4 less per cast
	Reduced the path level for astral corruption from 11 to 9
	Reduced the cost per additional effect of battlesummoned mages by 50%, making large summonings of them cost less gems to cast

NEW IN v1.2.3

Added a button to the UI that tries to autodetect good starting IDs based on the mods loaded.
Correctly noted the maximum number of modded weapons.
Fixed number of bolts in fires from afar description (thanks Mergele).

NEW IN v1.2.2

The interface now allows the input of various start IDs so that they can be chosen to not conflict with other mods in use.
Fixed the name of Kokythiad ritual summons when it has death as its primary path.

NEW IN v1.2.1

Hopefully fixed an "invalid argument" error caused when trying to generate national spells when specifying mods.

NEW IN v1.2.0

Smites are now 100 precision as they are in vanilla.
The interface now offers a choice of the nations to generate national spells for. Now people who want to have large numbers of national spells on a small selection of nations can do so!

NEW IN v1.1.2

Earthquake now correctly requires E4 (was E2 due to a mistake on my part).
Slightly increased the cost of ritual summoned bukavac - I didn't see the AP tentacles when pricing these.
Ritual summon bishop fish will always generate.
Corrected the maximum level of the lowest tier of resist spells so that higher research, ludicrously priced versions don't appear with duplicate effects.
Mid tier resist spells can now generate a 100% battlefield version at research 9.
Life after death can no longer generate a self targeting version.
Projectile chain lightning base aoe reduced from 2 to 1
Nonprojectile chain lightning base level increased from 3 to 4
Fixed send to void to have a hard MR check as stated in the text (and intended), it was incorrectly offering an easy MR check
Added +5 natprot spells for animals and undead.
Added undead-only regen.
Added a twist fate and fools luck combination buff.
Noted that phoenix pyre also gives +5 fire resistance in an attempt to lower chain reactions.
Added regular and greater enlargement.
Added stalker as a remote assassination.
Added +5 fear as a buff.
Added in-battle horror seed effects.
Summons with heat aura are now prefixed "hot" instead of "infernal" to better distinguish them from the inferno banishment effect.
4 gem in battle spells now have the correct base cast time of 225%.
Path level increase per research for mistform reduced from 0.66 to 0.33.
Wave warriors scale rate increased slightly to make battlefield wide generate at research 8.
All drain life effects now have 50% skipchance. Due to the large number of different but very similar drain life effects, these were very prevalent at high levels.
Skipchance for range 10 and 3 spells now 90%, from 70%.
Introduced name variety to reduce the number of spells with the same name at different research levels. National spells aren't affected by this though.
Renamed a few spell effects to accommodate the above naming scheme.
Blight now gets a proper description when generating with earth primary path.
Slightly increased fatigue scaling for fascination. This has only a significant impact on higher level variants.
Spell scaling now rounds up. This shouldn't make much visible difference in most cases, however.
Middle and high tier resist spells now scale significantly faster.
Thunder strike path level increased to 3 from 2.
Shock evocations are now 80% less likely to be astral instead of air.
25% casting time effect research modifier given AI cast mod of +40%
10% casting time effect research modifier given AI cast mod of +70%
Split the 25% and 10% fast casting effects for damaging, damaging projectile, nondamaging hostile, and nonhostile
25% casting time effect research modifier for damaging nonprojectile spells increased from +2 to +4
25% casting time effect research modifier for damaging projectile spells increased from +2 to +3
25% casting time effect research modifier for nondamaging hostile spells increased from +2 to +3
10% casting time effect research modifier for damaging nonprojectile spells increased from +3 to +8
10% casting time effect research modifier for damaging projectile spells increased from +3 to +5
10% casting time effect research modifier for nondamaging hostile spells increased from +3 to +5
10% casting time effect research modifier for nonhostile spells increased from +3 to +4
Added 16% cast time modifiers. This is to go between 25% (4 spells per round) and 10% (10 spells per round), sitting at a happy medium of 6.25 (thanks Arcvasti for the suggestion)
Updated data files (base units) to 5.51, this means that sea stags will generate with the newly corrected weapon
Prevented various data fields being filled with decimals.
Prevented storm power, vine arrow and bonds of fire from playing a sound effect which starts a new instance of the ingame music.
Fixed the crossbreeding ritual so it actually works now.



NEW IN v1.1.1

"Unending" chain lightning scaling rate inreased by 50%.
Foulspawn and greater foulspawn rituals made higher research and have higher path requirement, they were previously WAY too strong.
Battlesummoned mages now always cost a gem. This is mainly to prevent recursive issues with summoning spells that can cast a pathboosting spell and then make more copies of themselves.

NEW IN v1.1.0

Cloudify is no longer a valid modifier on self-only spells such as communions
Added new banishments (cloud, special fire explosion and chain lightning)
Added generation UI

From magicgen_testing pack creation to v1.0.0:

touch spell range increased to 3
touch spells now 100 precision for the purposes of AI casting scores (they wouldn't really miss before this change)
touch spells given AI cast mod of +40%
skipchance for all combat summoned mages increased dramatically (was 21-31%, now 70%)
fixed fatigue cost for battlesummon released sage (400 base fatigue to 120)
reduced prices for summoned magus and alchemist (ritualsummons to 15 gems from 25, battle fatigue cost from 80 to 60)
standardised x1 mage battlesummon costs to 60 fatigue each, notably summoning revenants is now more expensive and pyromancers are cheaper
reduced fatigue increase for slow casting spell modifier, given AI cast mod of -50%
increased fatigue reduction for short ranged (10 range) spells
75% casting time effect disabled
50% casting time effect research modifier decreased from +2 to +1, given AI cast mod of +25%
25% casting time effect research modifier decreased from +4 to +2, given AI cast mod of +40%
10% casting time effect research modifier decreased from +6 to +3, given AI cast mod of +70%
commmunion master's aoe version now has 0 range to stop the AI deciding to cast it on normal troops
various minor text fixes that are not important enough to list
added -40% AI cast mod to blade wind and the AP form
added -30% AI cast mod to the fear spell effect
added -30% AI cast mod to the blind spell effect
mage summon spells (both in combat and rituals) are now only 20% as likely to be assigned astral or nature as a casting path if the mage doesn't have the respective paths
summoned commanders and units with secondary effects' name prefixes now show them in spell names
Reduced the fatigue multiplier and research penalty for most unit secondary effects
Reduced fatigue cost and/or path requirements for most battle summons
Added shatter as a possible spell effect
Added various summoned units: minotaur, troll, caveman, war troll, troll moose knight, winged monkey, forest troll, kydnid, troll guard, kappa, ox-head, horse-face, elephant, ker, hound of twilight, khalkotauros, lampad, bukavac, various tiers of crossbreeds
Added summoned commanders: ker, lampad
Added curse of stones
Range 10 modifier skip chance increased from 20% to 70% (same as touch spells now)
Air shield base research -2 from 0
Berserk rage now doesn't get AI cast
Charge body scale rate reduced, base research -1 from 1
Lowest tier of resistance spells base research -1 from 1
Combustion base research 0 from 2, scaling rate reduced slightly
Damage armour lesser base research 0 from 2, scale rate reduced
Damage armour greater base research 8 from 9
Desiccation base research -1 from 1, scale rate reduced
Earth meld base research 0 from 1
Entanglement base research -2 from 1, base aoe 0 from 1
False fetters base aoe 0 from 3, path level 1 from 2, research -1 from 2
Fascination base research -1 from 1
Flight base research 0 from 2
Swiftness base research -2 from 1
Stygian skin base research 0 from 3, pathlevel 1 from 2
Numbness base research -2 from 2
Added AoE reinvigoration
Rust base research -2 from 1
Rust base range 35 from 15
Strength boost base research 0 from 1
Slime projectile base research -1 from 1
Slime instant base research 1 from 3
Added spell secondary effects: curse of stones, confusion, bonds of fire, slime, slow, web
Most of the above are also valid banish effects, as well as control undead
Added smite effects: charm, encase in ice, enslave, polymorph, send to void
Heat aura now gives fire resist too
Fixed poison barbs summon modifier so it should work now
Stone rain damage scaling reduced from 3 to 2
Casting foul vapours no longer puts up meteor shower
Casting quagmire no longer puts up friendly currents
